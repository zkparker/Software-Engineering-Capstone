<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>El Espada</title>


<!-- Boot strap link with thmyeleaf so that it is dynamic-->
<link rel="stylesheet" href="../static/css/bootstrap.min.css"
	th:href="@{/css/bootstrap.min.css}" />

<link rel="stylesheet" href="../static/css/stylesheet.css"
	th:href="@{/css/stylesheet.css}" />
	
<script type="text/javascript">
var listMenuIds="";
function addToCart(menuId) {
	listMenuIds += menuId+",";
  	document.getElementsByName("menuIds")[0].setAttribute("value", listMenuIds);
}
</script>

</head>

<body>
<form th:action="@{/reviewOrder}" method="post" th:object="${espadaVO}">
	<input type="hidden" th:name="menuIds" th:value="${espadaVO.menuIds}"/>
	<div class="container">

		<!-- Utilize thymeleaf fragment for nav bar so the contents only need to be changed in one place -->
		<nav
			class="navbar navbar-expand-md navbar-dark bg-dark navigation sticky-top"
			th:replace="fragments/navigator :: navigator"></nav>

		<div>
			<div class="column">
				<h2 class="menu-text">Menu Items</h2>
			</div>
		</div>

		<div>
			<div class="column">
				<h3>Lunch Menu</h3>
				<p>Note that lunch items are only available from 11am-3pm daily.</p>
			</div>
		</div>
		
		<div class="alert alert-success alert-dismissible fade show">
		    <button type="button" class="close" data-dismiss="alert">&times;</button>
		    <strong>Success!</strong> Item added to order.
		  </div>

		<div class="container" th:each="m : ${menu}"
			th:if="${m.menuType} == 'Lunch'">
			<div class="row">
				<div class="col-sm">
					<h5 th:text="${m.menuName}"></h5>
					<img th:src="@{${'images/' + m.menuImgSrc}}" class="rounded" />

				</div>

				<div class="col-sm">
					<p th:text="${m.menuDetails}"></p>
					<button type="button" class="btn-success" th:inline="text" th:onclick="'javascript:addToCart(\'' + ${m.menuId} + '\');'">Add to Order
						- [[${#numbers.formatCurrency(m.menuPrice)}]]</button>
				</div>
			</div>
		</div>


		<div>
			<div class="column">
				<h3>Dinner Menu</h3>
			</div>
		</div>


		<div class="container" th:each="m : ${menu}"
			th:if="${m.menuType} == 'Dinner'">
			<div class="row">
				<div class="col-sm">
					<h5 th:text="${m.menuName}"></h5>
					<img th:src="@{${'images/' + m.menuImgSrc}}" class="rounded" />

				</div>

				<div class="col-sm">
					<p th:text="${m.menuDetails}"></p>
					<button type="button" class="btn-success" th:inline="text" th:onclick="'javascript:addToCart(\'' + ${m.menuId} + '\');'">Add to Order
						- [[${#numbers.formatCurrency(m.menuPrice)}]]</button>
				</div>
			</div>
		</div>

		<div>
			<div class="column">
				<h3>Dessert Menu</h3>
			</div>
		</div>

		<div class="container" th:each="m : ${menu}"
			th:if="${m.menuType} == 'Dessert'">
			<div class="row">
				<div class="col-sm">
					<h5 th:text="${m.menuName}"></h5>
					<img th:src="@{${'images/' + m.menuImgSrc}}" class="rounded" />

				</div>

				<div class="col-sm">
					<p th:text="${m.menuDetails}"></p>
					<button type="button" class="btn-success" th:inline="text" th:onclick="'javascript:addToCart(\'' + ${m.menuId} + '\');'">Add to Order
						- [[${#numbers.formatCurrency(m.menuPrice)}]]</button>
				</div>
			</div>
		</div>


			<button type="submit" class="btn-success">Continue To
				Review Order</button>
		</div>
	</form>
</body>
</html>